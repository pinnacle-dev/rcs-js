/**
 * This file was auto-generated by Fern from our API Definition.
 */

import * as Pinnacle from "../index.js";

/**
 * Represents an incoming message or message status update received via webhook.
 */
export interface MessageEvent {
    /** Type of webhook event. MESSAGE.STATUS for message status updates or MESSAGE.RECEIVED for inbound messages. */
    type: Pinnacle.WebhookEventEnum;
    /** Conversation metadata containing the conversation ID, sender, and recipient information. */
    conversation: MessageEvent.Conversation;
    status: Pinnacle.MessageStatusEnum;
    /** Direction of the message flow. */
    direction: MessageEvent.Direction;
    /** Number of segments for this message. */
    segments: number;
    /** Timestamp when the message was sent in ISO 8601 format. */
    sentAt: string;
    /**
     * Timestamp when the message was delivered in ISO 8601 format.
     * Null if not yet delivered or for inbound messages.
     */
    deliveredAt?: string | null;
    /** Message details including ID and content. */
    message: MessageEvent.Message;
}

export namespace MessageEvent {
    /**
     * Conversation metadata containing the conversation ID, sender, and recipient information.
     */
    export interface Conversation {
        /** Unique identifier for the conversation. To get more conversation details, use the [POST /conversations/get](/api-reference/conversations/get) endpoint. */
        id: number;
        /** Sender's phone number or agent ID. */
        from: string;
        /** Recipient's phone number. */
        to: string;
    }

    /**
     * Direction of the message flow.
     */
    export type Direction = "INBOUND" | "OUTBOUND";
    export const Direction = {
        Inbound: "INBOUND",
        Outbound: "OUTBOUND",
    } as const;

    /**
     * Message details including ID and content.
     */
    export interface Message {
        /** Unique identifier of the message. To get the message details, use the [GET /messages/{id}](/api-reference/messages/get) endpoint. */
        id: number;
        content: Pinnacle.MessageContent;
    }
}
