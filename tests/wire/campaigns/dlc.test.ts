// This file was auto-generated by Fern from our API Definition.

import * as Pinnacle from "../../../src/api/index";
import { PinnacleClient } from "../../../src/Client";
import { mockServerPool } from "../../mock-server/MockServerPool";

describe("Dlc", () => {
    test("autofill (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new PinnacleClient({ apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = {
            additionalInfo: "Please autofill missing campaign fields using my brand profile",
            campaignId: "dlc_1234567890",
        };
        const rawResponseBody = {
            autoRenew: true,
            brand: "b_1234567890",
            campaignId: "dlc_1234567890",
            description: "description",
            keywords: {
                HELP: {
                    message:
                        "Pinnacle Software Development Inc.: For assistance, visit https://pinnacle.sh/support or email founders@trypinnacle.app. Msg&data rates may apply. Reply STOP to cancel.",
                    values: ["HELP", "SUPPORT", "INFO"],
                },
                OPT_IN: {
                    message:
                        "Pinnacle Software Development Inc.: You're enrolled in account & security alerts. Msg&data rates may apply. Message frequency varies. Reply HELP for help, STOP to cancel. Terms: https://pinnacle.sh/terms Privacy: https://pinnacle.sh/privacy",
                    values: ["START", "YES", "SUBSCRIBE"],
                },
                OPT_OUT: {
                    message:
                        "Pinnacle Software Development Inc.: You're unsubscribed and will receive no further texts. For assistance, visit https://pinnacle.sh or call 877-389-0460. Reply START to resubscribe.",
                    values: ["STOP", "CANCEL", "UNSUBSCRIBE"],
                },
            },
            links: {
                privacyPolicy: "https://www.pinnacle.sh/privacy",
                termsOfService: "https://www.pinnacle.sh/terms",
            },
            messageFlow:
                'The user fills out a paper form during onboarding at [Address] which they learn about at our website (https://pinnacle.sh) in which they provide their phone number and sign their consent. The form includes a disclaimer: "By signing this form and providing your phone number, you agree to receive SMS Mixed - Account Notification, Customer Care, Security Alert, Delivery Notification from Pinnacle Software Development Inc. Message frequency may vary. Standard Message and Data Rates may apply. Reply STOP to opt out. Reply HELP for help. Consent is not a condition of purchase. Your mobile information will not be sold or shared with third parties for promotional or marketing purposes." Once the information is entered into the system, the user receives a confirmation SMS: "Thank you for signing up for SMS updates from Pinnacle Software Development Inc. Msg freq may vary. Std msg & data rates apply. Reply STOP to opt out, HELP for help." Link to paper form: https://www.pinnacle.sh/opt-in',
            name: "Account Notifications",
            options: {
                affiliateMarketing: false,
                ageGated: false,
                directLending: false,
                embeddedLink: "https://www.pinnacle.sh/example",
                embeddedPhone: false,
                numberPooling: false,
            },
            sampleMessages: [
                "Pinnacle Software Development Inc.: We're here to help. Visit https://pinnacle.sh or call 877-389-0460. Msg&data rates may apply. Reply STOP to cancel.",
                "Pinnacle Software Development Inc.: You're enrolled in account & security alerts. Msg&data rates may apply. Message frequency varies. Reply HELP for help, STOP to cancel. Terms: https://pinnacle.sh/terms/ Privacy: https://pinnacle.sh/privacy/",
                "Pinnacle Software Development Inc.: An update has been made to your account. Read it in the portal.",
                "Pinnacle Software Development Inc.: We received your message. A team member will reply shortly. For immediate help call 877-389-0460. Msg&data rates may apply. Reply STOP to cancel.",
            ],
            useCase: { sub: ["ACCOUNT_NOTIFICATION", "CUSTOMER_CARE", "SECURITY_ALERT"], value: "MIXED" },
        };
        server
            .mockEndpoint()
            .post("/campaigns/dlc/autofill")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.campaigns.dlc.autofill({
            additionalInfo: "Please autofill missing campaign fields using my brand profile",
            campaignId: "dlc_1234567890",
        });
        expect(response).toEqual({
            autoRenew: true,
            brand: "b_1234567890",
            campaignId: "dlc_1234567890",
            description: "description",
            keywords: {
                HELP: {
                    message:
                        "Pinnacle Software Development Inc.: For assistance, visit https://pinnacle.sh/support or email founders@trypinnacle.app. Msg&data rates may apply. Reply STOP to cancel.",
                    values: ["HELP", "SUPPORT", "INFO"],
                },
                OPT_IN: {
                    message:
                        "Pinnacle Software Development Inc.: You're enrolled in account & security alerts. Msg&data rates may apply. Message frequency varies. Reply HELP for help, STOP to cancel. Terms: https://pinnacle.sh/terms Privacy: https://pinnacle.sh/privacy",
                    values: ["START", "YES", "SUBSCRIBE"],
                },
                OPT_OUT: {
                    message:
                        "Pinnacle Software Development Inc.: You're unsubscribed and will receive no further texts. For assistance, visit https://pinnacle.sh or call 877-389-0460. Reply START to resubscribe.",
                    values: ["STOP", "CANCEL", "UNSUBSCRIBE"],
                },
            },
            links: {
                privacyPolicy: "https://www.pinnacle.sh/privacy",
                termsOfService: "https://www.pinnacle.sh/terms",
            },
            messageFlow:
                'The user fills out a paper form during onboarding at [Address] which they learn about at our website (https://pinnacle.sh) in which they provide their phone number and sign their consent. The form includes a disclaimer: "By signing this form and providing your phone number, you agree to receive SMS Mixed - Account Notification, Customer Care, Security Alert, Delivery Notification from Pinnacle Software Development Inc. Message frequency may vary. Standard Message and Data Rates may apply. Reply STOP to opt out. Reply HELP for help. Consent is not a condition of purchase. Your mobile information will not be sold or shared with third parties for promotional or marketing purposes." Once the information is entered into the system, the user receives a confirmation SMS: "Thank you for signing up for SMS updates from Pinnacle Software Development Inc. Msg freq may vary. Std msg & data rates apply. Reply STOP to opt out, HELP for help." Link to paper form: https://www.pinnacle.sh/opt-in',
            name: "Account Notifications",
            options: {
                affiliateMarketing: false,
                ageGated: false,
                directLending: false,
                embeddedLink: "https://www.pinnacle.sh/example",
                embeddedPhone: false,
                numberPooling: false,
            },
            sampleMessages: [
                "Pinnacle Software Development Inc.: We're here to help. Visit https://pinnacle.sh or call 877-389-0460. Msg&data rates may apply. Reply STOP to cancel.",
                "Pinnacle Software Development Inc.: You're enrolled in account & security alerts. Msg&data rates may apply. Message frequency varies. Reply HELP for help, STOP to cancel. Terms: https://pinnacle.sh/terms/ Privacy: https://pinnacle.sh/privacy/",
                "Pinnacle Software Development Inc.: An update has been made to your account. Read it in the portal.",
                "Pinnacle Software Development Inc.: We received your message. A team member will reply shortly. For immediate help call 877-389-0460. Msg&data rates may apply. Reply STOP to cancel.",
            ],
            useCase: {
                sub: ["ACCOUNT_NOTIFICATION", "CUSTOMER_CARE", "SECURITY_ALERT"],
                value: "MIXED",
            },
        });
    });

    test("autofill (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new PinnacleClient({ apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = {};
        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .post("/campaigns/dlc/autofill")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(400)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.campaigns.dlc.autofill({});
        }).rejects.toThrow(Pinnacle.BadRequestError);
    });

    test("autofill (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new PinnacleClient({ apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = {};
        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .post("/campaigns/dlc/autofill")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.campaigns.dlc.autofill({});
        }).rejects.toThrow(Pinnacle.UnauthorizedError);
    });

    test("autofill (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new PinnacleClient({ apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = {};
        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .post("/campaigns/dlc/autofill")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.campaigns.dlc.autofill({});
        }).rejects.toThrow(Pinnacle.InternalServerError);
    });

    test("get (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new PinnacleClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = {
            autoRenew: false,
            brand: {
                address: "500 Folsom Street, San Francisco, CA 94105",
                contact: {
                    email: "janedoe1@pinnacle.example",
                    name: "Jane Doe",
                    phone: "+14155550123",
                    title: "Customer Support Specialist",
                },
                dba: "Pinnacle RCS",
                description: "description",
                ein: "12-3456789",
                email: "founders@trypinnacle.app",
                name: "Pinnacle",
                sector: "TECHNOLOGY",
                type: "PRIVATE_PROFIT",
                entityType: "LLC",
                website: "https://www.pinnacle.sh/",
                createdAt: "2024-08-17T08:00:30.632",
                id: "b_1234567890",
                isArchived: false,
                status: "VERIFIED",
                updatedAt: "2024-12-09T10:03:54.934",
            },
            campaignId: "dlc_1234567890",
            description: "description",
            keywords: {
                HELP: {
                    message:
                        "Pinnacle Software Development Inc.: For assistance, visit https://pinnacle.sh/support or email founders@trypinnacle.app. Msg&data rates may apply. Reply STOP to cancel.",
                    values: ["HELP", "SUPPORT", "INFO"],
                },
                OPT_IN: {
                    message:
                        "Pinnacle Software Development Inc.: You're enrolled in account & security alerts. Msg&data rates may apply. Message frequency varies. Reply HELP for help, STOP to cancel. Terms: https://pinnacle.sh/terms Privacy: https://pinnacle.sh/privacy",
                    values: ["START", "YES", "SUBSCRIBE"],
                },
                OPT_OUT: {
                    message:
                        "Pinnacle Software Development Inc.: You're unsubscribed and will receive no further texts. For assistance, visit https://pinnacle.sh or call 877-389-0460. Reply START to resubscribe.",
                    values: ["STOP", "CANCEL", "UNSUBSCRIBE"],
                },
            },
            links: {
                privacyPolicy: "https://www.pinnacle.sh/privacy",
                termsOfService: "https://www.pinnacle.sh/terms",
            },
            messageFlow:
                'The user fills out a paper form during onboarding at [Address] which they learn about at our website (https://pinnacle.sh) in which they provide their phone number and sign their consent. The form includes a disclaimer: "By signing this form and providing your phone number, you agree to receive SMS Mixed - Account Notification, Customer Care, Security Alert, Delivery Notification from Pinnacle Software Development Inc. Message frequency may vary. Standard Message and Data Rates may apply. Reply STOP to opt out. Reply HELP for help. Consent is not a condition of purchase. Your mobile information will not be sold or shared with third parties for promotional or marketing purposes." Once the information is entered into the system, the user receives a confirmation SMS: "Thank you for signing up for SMS updates from Pinnacle Software Development Inc. Msg freq may vary. Std msg & data rates apply. Reply STOP to opt out, HELP for help." Link to paper form: https://www.pinnacle.sh/opt-in',
            name: "Pinnacle",
            options: {
                affiliateMarketing: false,
                ageGated: false,
                directLending: false,
                embeddedLink: "embeddedLink",
                embeddedPhone: false,
                numberPooling: false,
            },
            sampleMessages: [
                "Pinnacle Software Development Inc.: We're here to help. Visit https://pinnacle.sh or call 877-389-0460. Msg&data rates may apply. Reply STOP to cancel.",
                "Pinnacle Software Development Inc.: You're enrolled in account & security alerts. Msg&data rates may apply. Message frequency varies. Reply HELP for help, STOP to cancel. Terms: https://pinnacle.sh/terms/ Privacy: https://pinnacle.sh/privacy/",
                "Pinnacle Software Development Inc.: An update has been made to your account. Read it in the portal.",
                "Pinnacle Software Development Inc.: We received your message. A team member will reply shortly. For immediate help call 877-389-0460. Msg&data rates may apply. Reply STOP to cancel.",
            ],
            status: "VERIFIED",
            useCase: { sub: ["ACCOUNT_NOTIFICATION", "CUSTOMER_CARE", "SECURITY_ALERT"], value: "MIXED" },
            mnoBrandTier: "LOW",
            mnoTcrTier: "G",
        };
        server
            .mockEndpoint()
            .get("/campaigns/dlc/dlc_1234567890")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.campaigns.dlc.get("dlc_1234567890");
        expect(response).toEqual({
            autoRenew: false,
            brand: {
                address: "500 Folsom Street, San Francisco, CA 94105",
                contact: {
                    email: "janedoe1@pinnacle.example",
                    name: "Jane Doe",
                    phone: "+14155550123",
                    title: "Customer Support Specialist",
                },
                dba: "Pinnacle RCS",
                description: "description",
                ein: "12-3456789",
                email: "founders@trypinnacle.app",
                name: "Pinnacle",
                sector: "TECHNOLOGY",
                type: "PRIVATE_PROFIT",
                entityType: "LLC",
                website: "https://www.pinnacle.sh/",
                createdAt: "2024-08-17T08:00:30.632",
                id: "b_1234567890",
                isArchived: false,
                status: "VERIFIED",
                updatedAt: "2024-12-09T10:03:54.934",
            },
            campaignId: "dlc_1234567890",
            description: "description",
            keywords: {
                HELP: {
                    message:
                        "Pinnacle Software Development Inc.: For assistance, visit https://pinnacle.sh/support or email founders@trypinnacle.app. Msg&data rates may apply. Reply STOP to cancel.",
                    values: ["HELP", "SUPPORT", "INFO"],
                },
                OPT_IN: {
                    message:
                        "Pinnacle Software Development Inc.: You're enrolled in account & security alerts. Msg&data rates may apply. Message frequency varies. Reply HELP for help, STOP to cancel. Terms: https://pinnacle.sh/terms Privacy: https://pinnacle.sh/privacy",
                    values: ["START", "YES", "SUBSCRIBE"],
                },
                OPT_OUT: {
                    message:
                        "Pinnacle Software Development Inc.: You're unsubscribed and will receive no further texts. For assistance, visit https://pinnacle.sh or call 877-389-0460. Reply START to resubscribe.",
                    values: ["STOP", "CANCEL", "UNSUBSCRIBE"],
                },
            },
            links: {
                privacyPolicy: "https://www.pinnacle.sh/privacy",
                termsOfService: "https://www.pinnacle.sh/terms",
            },
            messageFlow:
                'The user fills out a paper form during onboarding at [Address] which they learn about at our website (https://pinnacle.sh) in which they provide their phone number and sign their consent. The form includes a disclaimer: "By signing this form and providing your phone number, you agree to receive SMS Mixed - Account Notification, Customer Care, Security Alert, Delivery Notification from Pinnacle Software Development Inc. Message frequency may vary. Standard Message and Data Rates may apply. Reply STOP to opt out. Reply HELP for help. Consent is not a condition of purchase. Your mobile information will not be sold or shared with third parties for promotional or marketing purposes." Once the information is entered into the system, the user receives a confirmation SMS: "Thank you for signing up for SMS updates from Pinnacle Software Development Inc. Msg freq may vary. Std msg & data rates apply. Reply STOP to opt out, HELP for help." Link to paper form: https://www.pinnacle.sh/opt-in',
            name: "Pinnacle",
            options: {
                affiliateMarketing: false,
                ageGated: false,
                directLending: false,
                embeddedLink: "embeddedLink",
                embeddedPhone: false,
                numberPooling: false,
            },
            sampleMessages: [
                "Pinnacle Software Development Inc.: We're here to help. Visit https://pinnacle.sh or call 877-389-0460. Msg&data rates may apply. Reply STOP to cancel.",
                "Pinnacle Software Development Inc.: You're enrolled in account & security alerts. Msg&data rates may apply. Message frequency varies. Reply HELP for help, STOP to cancel. Terms: https://pinnacle.sh/terms/ Privacy: https://pinnacle.sh/privacy/",
                "Pinnacle Software Development Inc.: An update has been made to your account. Read it in the portal.",
                "Pinnacle Software Development Inc.: We received your message. A team member will reply shortly. For immediate help call 877-389-0460. Msg&data rates may apply. Reply STOP to cancel.",
            ],
            status: "VERIFIED",
            useCase: {
                sub: ["ACCOUNT_NOTIFICATION", "CUSTOMER_CARE", "SECURITY_ALERT"],
                value: "MIXED",
            },
            mnoBrandTier: "LOW",
            mnoTcrTier: "G",
        });
    });

    test("get (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new PinnacleClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/campaigns/dlc/campaignId")
            .respondWith()
            .statusCode(400)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.campaigns.dlc.get("campaignId");
        }).rejects.toThrow(Pinnacle.BadRequestError);
    });

    test("get (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new PinnacleClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .get("/campaigns/dlc/campaignId")
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.campaigns.dlc.get("campaignId");
        }).rejects.toThrow(Pinnacle.UnauthorizedError);
    });

    test("get (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new PinnacleClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/campaigns/dlc/campaignId")
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.campaigns.dlc.get("campaignId");
        }).rejects.toThrow(Pinnacle.NotFoundError);
    });

    test("get (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new PinnacleClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .get("/campaigns/dlc/campaignId")
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.campaigns.dlc.get("campaignId");
        }).rejects.toThrow(Pinnacle.InternalServerError);
    });

    test("submit (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new PinnacleClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { success: true };
        server
            .mockEndpoint()
            .post("/campaigns/dlc/submit/dlc_1234567890")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.campaigns.dlc.submit("dlc_1234567890");
        expect(response).toEqual({
            success: true,
        });
    });

    test("submit (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new PinnacleClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .post("/campaigns/dlc/submit/campaignId")
            .respondWith()
            .statusCode(400)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.campaigns.dlc.submit("campaignId");
        }).rejects.toThrow(Pinnacle.BadRequestError);
    });

    test("submit (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new PinnacleClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .post("/campaigns/dlc/submit/campaignId")
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.campaigns.dlc.submit("campaignId");
        }).rejects.toThrow(Pinnacle.UnauthorizedError);
    });

    test("submit (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new PinnacleClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .post("/campaigns/dlc/submit/campaignId")
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.campaigns.dlc.submit("campaignId");
        }).rejects.toThrow(Pinnacle.NotFoundError);
    });

    test("submit (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new PinnacleClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .post("/campaigns/dlc/submit/campaignId")
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.campaigns.dlc.submit("campaignId");
        }).rejects.toThrow(Pinnacle.InternalServerError);
    });

    test("upsert (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new PinnacleClient({ apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = {
            autoRenew: true,
            brand: "b_1234567890",
            description:
                "This campaign sends transactional SMS messages to customers who have opted in, including account notifications, security alerts, and customer care responses. Messages are sent when triggered by account activity such as login attempts, password changes, order updates, or support inquiries. All messages include required STOP/HELP disclosures and comply with TCPA guidelines.",
            keywords: {
                HELP: {
                    message:
                        "Pinnacle Software Development Inc.: For assistance, visit https://pinnacle.sh/support or email founders@trypinnacle.app. Msg&data rates may apply. Reply STOP to cancel.",
                    values: ["HELP", "SUPPORT", "INFO"],
                },
                OPT_IN: {
                    message:
                        "Pinnacle Software Development Inc.: You're enrolled in account & security alerts. Msg&data rates may apply. Message frequency varies. Reply HELP for help, STOP to cancel. Terms: https://pinnacle.sh/terms Privacy: https://pinnacle.sh/privacy",
                    values: ["START", "YES", "SUBSCRIBE"],
                },
                OPT_OUT: {
                    message:
                        "Pinnacle Software Development Inc.: You're unsubscribed and will receive no further texts. For assistance, visit https://pinnacle.sh or call 877-389-0460. Reply START to resubscribe.",
                    values: ["STOP", "CANCEL", "UNSUBSCRIBE"],
                },
            },
            links: {
                privacyPolicy: "https://www.pinnacle.sh/privacy",
                termsOfService: "https://www.pinnacle.sh/terms",
            },
            messageFlow:
                'The user fills out a paper form during onboarding at [Address] which they learn about at our website (https://pinnacle.sh) in which they provide their phone number and sign their consent. The form includes a disclaimer: "By signing this form and providing your phone number, you agree to receive SMS Mixed - Account Notification, Customer Care, Security Alert, Delivery Notification from Pinnacle Software Development Inc. Message frequency may vary. Standard Message and Data Rates may apply. Reply STOP to opt out. Reply HELP for help. Consent is not a condition of purchase. Your mobile information will not be sold or shared with third parties for promotional or marketing purposes." Once the information is entered into the system, the user receives a confirmation SMS: "Thank you for signing up for SMS updates from Pinnacle Software Development Inc. Msg freq may vary. Std msg & data rates apply. Reply STOP to opt out, HELP for help." Link to paper form: https://www.pinnacle.sh/opt-in',
            name: "Pinnacle's Account Notifications",
            options: {
                affiliateMarketing: false,
                ageGated: false,
                directLending: false,
                embeddedLink: "https://www.pinnacle.sh/example",
                embeddedPhone: false,
                numberPooling: false,
            },
            sampleMessages: [
                "Pinnacle Software Development Inc.: We're here to help. Visit https://pinnacle.sh or call 877-389-0460. Msg&data rates may apply. Reply STOP to cancel.",
                "Pinnacle Software Development Inc.: You're enrolled in account & security alerts. Msg&data rates may apply. Message frequency varies. Reply HELP for help, STOP to cancel. Terms: https://pinnacle.sh/terms/ Privacy: https://pinnacle.sh/privacy/",
                "Pinnacle Software Development Inc.: An update has been made to your account. Read it in the portal.",
                "Pinnacle Software Development Inc.: We received your message. A team member will reply shortly. For immediate help call 877-389-0460. Msg&data rates may apply. Reply STOP to cancel.",
            ],
            useCase: { sub: ["ACCOUNT_NOTIFICATION", "CUSTOMER_CARE", "SECURITY_ALERT"], value: "MIXED" },
        };
        const rawResponseBody = {
            autoRenew: true,
            brand: {
                address: "500 Folsom Street, San Francisco, CA 94105",
                contact: {
                    email: "john.smith@pinnacle.example",
                    name: "John Smith",
                    phone: "+14151891244",
                    title: "Communications Manager",
                },
                dba: "Pinnacle RCS",
                description: "description",
                ein: "12-3456789",
                email: "founders@trypinnacle.app",
                name: "Pinnacle",
                sector: "TECHNOLOGY",
                type: "PRIVATE_PROFIT",
                entityType: "LLC",
                website: "https://www.pinnacle.sh/",
                createdAt: "2024-08-17T08:00:30.632",
                id: "b_1234567890",
                isArchived: false,
                status: "VERIFIED",
                updatedAt: "2024-12-10T07:58:01.291",
            },
            campaignId: "dlc_1234567890",
            description: "description",
            keywords: {
                HELP: {
                    message:
                        "Pinnacle Software Development Inc.: For assistance, visit https://pinnacle.sh/support or email founders@trypinnacle.app. Msg&data rates may apply. Reply STOP to cancel.",
                    values: ["HELP", "SUPPORT", "INFO"],
                },
                OPT_IN: {
                    message:
                        "Pinnacle Software Development Inc.: You're enrolled in account & security alerts. Msg&data rates may apply. Message frequency varies. Reply HELP for help, STOP to cancel. Terms: https://pinnacle.sh/terms Privacy: https://pinnacle.sh/privacy",
                    values: ["START", "YES", "SUBSCRIBE"],
                },
                OPT_OUT: {
                    message:
                        "Pinnacle Software Development Inc.: You're unsubscribed and will receive no further texts. For assistance, visit https://pinnacle.sh or call 877-389-0460. Reply START to resubscribe.",
                    values: ["STOP", "CANCEL", "UNSUBSCRIBE"],
                },
            },
            links: {
                privacyPolicy: "https://www.pinnacle.sh/privacy",
                termsOfService: "https://www.pinnacle.sh/terms",
            },
            messageFlow:
                'The user fills out a paper form during onboarding at [Address] which they learn about at our website (https://pinnacle.sh) in which they provide their phone number and sign their consent. The form includes a disclaimer: "By signing this form and providing your phone number, you agree to receive SMS Mixed - Account Notification, Customer Care, Security Alert, Delivery Notification from Pinnacle Software Development Inc. Message frequency may vary. Standard Message and Data Rates may apply. Reply STOP to opt out. Reply HELP for help. Consent is not a condition of purchase. Your mobile information will not be sold or shared with third parties for promotional or marketing purposes." Once the information is entered into the system, the user receives a confirmation SMS: "Thank you for signing up for SMS updates from Pinnacle Software Development Inc. Msg freq may vary. Std msg & data rates apply. Reply STOP to opt out, HELP for help." Link to paper form: https://www.pinnacle.sh/opt-in',
            name: "Account Notifications",
            options: {
                affiliateMarketing: false,
                ageGated: false,
                directLending: false,
                embeddedLink: "https://www.pinnacle.sh/example",
                embeddedPhone: false,
                numberPooling: false,
            },
            sampleMessages: [
                "Pinnacle Software Development Inc.: We're here to help. Visit https://pinnacle.sh or call 877-389-0460. Msg&data rates may apply. Reply STOP to cancel.",
                "Pinnacle Software Development Inc.: You're enrolled in account & security alerts. Msg&data rates may apply. Message frequency varies. Reply HELP for help, STOP to cancel. Terms: https://pinnacle.sh/terms/ Privacy: https://pinnacle.sh/privacy/",
                "Pinnacle Software Development Inc.: An update has been made to your account. Read it in the portal.",
                "Pinnacle Software Development Inc.: We received your message. A team member will reply shortly. For immediate help call 877-389-0460. Msg&data rates may apply. Reply STOP to cancel.",
            ],
            status: "VERIFIED",
            useCase: { sub: ["ACCOUNT_NOTIFICATION", "CUSTOMER_CARE", "SECURITY_ALERT"], value: "MIXED" },
            mnoBrandTier: "LOW",
            mnoTcrTier: "G",
        };
        server
            .mockEndpoint()
            .post("/campaigns/dlc")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.campaigns.dlc.upsert({
            autoRenew: true,
            brand: "b_1234567890",
            description:
                "This campaign sends transactional SMS messages to customers who have opted in, including account notifications, security alerts, and customer care responses. Messages are sent when triggered by account activity such as login attempts, password changes, order updates, or support inquiries. All messages include required STOP/HELP disclosures and comply with TCPA guidelines.",
            keywords: {
                HELP: {
                    message:
                        "Pinnacle Software Development Inc.: For assistance, visit https://pinnacle.sh/support or email founders@trypinnacle.app. Msg&data rates may apply. Reply STOP to cancel.",
                    values: ["HELP", "SUPPORT", "INFO"],
                },
                OPT_IN: {
                    message:
                        "Pinnacle Software Development Inc.: You're enrolled in account & security alerts. Msg&data rates may apply. Message frequency varies. Reply HELP for help, STOP to cancel. Terms: https://pinnacle.sh/terms Privacy: https://pinnacle.sh/privacy",
                    values: ["START", "YES", "SUBSCRIBE"],
                },
                OPT_OUT: {
                    message:
                        "Pinnacle Software Development Inc.: You're unsubscribed and will receive no further texts. For assistance, visit https://pinnacle.sh or call 877-389-0460. Reply START to resubscribe.",
                    values: ["STOP", "CANCEL", "UNSUBSCRIBE"],
                },
            },
            links: {
                privacyPolicy: "https://www.pinnacle.sh/privacy",
                termsOfService: "https://www.pinnacle.sh/terms",
            },
            messageFlow:
                'The user fills out a paper form during onboarding at [Address] which they learn about at our website (https://pinnacle.sh) in which they provide their phone number and sign their consent. The form includes a disclaimer: "By signing this form and providing your phone number, you agree to receive SMS Mixed - Account Notification, Customer Care, Security Alert, Delivery Notification from Pinnacle Software Development Inc. Message frequency may vary. Standard Message and Data Rates may apply. Reply STOP to opt out. Reply HELP for help. Consent is not a condition of purchase. Your mobile information will not be sold or shared with third parties for promotional or marketing purposes." Once the information is entered into the system, the user receives a confirmation SMS: "Thank you for signing up for SMS updates from Pinnacle Software Development Inc. Msg freq may vary. Std msg & data rates apply. Reply STOP to opt out, HELP for help." Link to paper form: https://www.pinnacle.sh/opt-in',
            name: "Pinnacle's Account Notifications",
            options: {
                affiliateMarketing: false,
                ageGated: false,
                directLending: false,
                embeddedLink: "https://www.pinnacle.sh/example",
                embeddedPhone: false,
                numberPooling: false,
            },
            sampleMessages: [
                "Pinnacle Software Development Inc.: We're here to help. Visit https://pinnacle.sh or call 877-389-0460. Msg&data rates may apply. Reply STOP to cancel.",
                "Pinnacle Software Development Inc.: You're enrolled in account & security alerts. Msg&data rates may apply. Message frequency varies. Reply HELP for help, STOP to cancel. Terms: https://pinnacle.sh/terms/ Privacy: https://pinnacle.sh/privacy/",
                "Pinnacle Software Development Inc.: An update has been made to your account. Read it in the portal.",
                "Pinnacle Software Development Inc.: We received your message. A team member will reply shortly. For immediate help call 877-389-0460. Msg&data rates may apply. Reply STOP to cancel.",
            ],
            useCase: {
                sub: ["ACCOUNT_NOTIFICATION", "CUSTOMER_CARE", "SECURITY_ALERT"],
                value: "MIXED",
            },
        });
        expect(response).toEqual({
            autoRenew: true,
            brand: {
                address: "500 Folsom Street, San Francisco, CA 94105",
                contact: {
                    email: "john.smith@pinnacle.example",
                    name: "John Smith",
                    phone: "+14151891244",
                    title: "Communications Manager",
                },
                dba: "Pinnacle RCS",
                description: "description",
                ein: "12-3456789",
                email: "founders@trypinnacle.app",
                name: "Pinnacle",
                sector: "TECHNOLOGY",
                type: "PRIVATE_PROFIT",
                entityType: "LLC",
                website: "https://www.pinnacle.sh/",
                createdAt: "2024-08-17T08:00:30.632",
                id: "b_1234567890",
                isArchived: false,
                status: "VERIFIED",
                updatedAt: "2024-12-10T07:58:01.291",
            },
            campaignId: "dlc_1234567890",
            description: "description",
            keywords: {
                HELP: {
                    message:
                        "Pinnacle Software Development Inc.: For assistance, visit https://pinnacle.sh/support or email founders@trypinnacle.app. Msg&data rates may apply. Reply STOP to cancel.",
                    values: ["HELP", "SUPPORT", "INFO"],
                },
                OPT_IN: {
                    message:
                        "Pinnacle Software Development Inc.: You're enrolled in account & security alerts. Msg&data rates may apply. Message frequency varies. Reply HELP for help, STOP to cancel. Terms: https://pinnacle.sh/terms Privacy: https://pinnacle.sh/privacy",
                    values: ["START", "YES", "SUBSCRIBE"],
                },
                OPT_OUT: {
                    message:
                        "Pinnacle Software Development Inc.: You're unsubscribed and will receive no further texts. For assistance, visit https://pinnacle.sh or call 877-389-0460. Reply START to resubscribe.",
                    values: ["STOP", "CANCEL", "UNSUBSCRIBE"],
                },
            },
            links: {
                privacyPolicy: "https://www.pinnacle.sh/privacy",
                termsOfService: "https://www.pinnacle.sh/terms",
            },
            messageFlow:
                'The user fills out a paper form during onboarding at [Address] which they learn about at our website (https://pinnacle.sh) in which they provide their phone number and sign their consent. The form includes a disclaimer: "By signing this form and providing your phone number, you agree to receive SMS Mixed - Account Notification, Customer Care, Security Alert, Delivery Notification from Pinnacle Software Development Inc. Message frequency may vary. Standard Message and Data Rates may apply. Reply STOP to opt out. Reply HELP for help. Consent is not a condition of purchase. Your mobile information will not be sold or shared with third parties for promotional or marketing purposes." Once the information is entered into the system, the user receives a confirmation SMS: "Thank you for signing up for SMS updates from Pinnacle Software Development Inc. Msg freq may vary. Std msg & data rates apply. Reply STOP to opt out, HELP for help." Link to paper form: https://www.pinnacle.sh/opt-in',
            name: "Account Notifications",
            options: {
                affiliateMarketing: false,
                ageGated: false,
                directLending: false,
                embeddedLink: "https://www.pinnacle.sh/example",
                embeddedPhone: false,
                numberPooling: false,
            },
            sampleMessages: [
                "Pinnacle Software Development Inc.: We're here to help. Visit https://pinnacle.sh or call 877-389-0460. Msg&data rates may apply. Reply STOP to cancel.",
                "Pinnacle Software Development Inc.: You're enrolled in account & security alerts. Msg&data rates may apply. Message frequency varies. Reply HELP for help, STOP to cancel. Terms: https://pinnacle.sh/terms/ Privacy: https://pinnacle.sh/privacy/",
                "Pinnacle Software Development Inc.: An update has been made to your account. Read it in the portal.",
                "Pinnacle Software Development Inc.: We received your message. A team member will reply shortly. For immediate help call 877-389-0460. Msg&data rates may apply. Reply STOP to cancel.",
            ],
            status: "VERIFIED",
            useCase: {
                sub: ["ACCOUNT_NOTIFICATION", "CUSTOMER_CARE", "SECURITY_ALERT"],
                value: "MIXED",
            },
            mnoBrandTier: "LOW",
            mnoTcrTier: "G",
        });
    });

    test("upsert (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new PinnacleClient({ apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = {};
        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .post("/campaigns/dlc")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(400)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.campaigns.dlc.upsert();
        }).rejects.toThrow(Pinnacle.BadRequestError);
    });

    test("upsert (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new PinnacleClient({ apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = {};
        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .post("/campaigns/dlc")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.campaigns.dlc.upsert();
        }).rejects.toThrow(Pinnacle.UnauthorizedError);
    });

    test("upsert (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new PinnacleClient({ apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = {};
        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .post("/campaigns/dlc")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.campaigns.dlc.upsert();
        }).rejects.toThrow(Pinnacle.NotFoundError);
    });

    test("upsert (5)", async () => {
        const server = mockServerPool.createServer();
        const client = new PinnacleClient({ apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = {};
        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .post("/campaigns/dlc")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.campaigns.dlc.upsert();
        }).rejects.toThrow(Pinnacle.InternalServerError);
    });

    test("validate (1)", async () => {
        const server = mockServerPool.createServer();
        const client = new PinnacleClient({ apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = {
            additionalInfo: "Please validate this DLC campaign for 10DLC compliance",
            campaignId: "dlc_1234567890",
        };
        const rawResponseBody = {
            errors: [{ description: "description", example: "example", field: "field" }],
            is_valid: true,
        };
        server
            .mockEndpoint()
            .post("/campaigns/dlc/validate")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.campaigns.dlc.validate({
            additionalInfo: "Please validate this DLC campaign for 10DLC compliance",
            campaignId: "dlc_1234567890",
        });
        expect(response).toEqual({
            errors: [
                {
                    description: "description",
                    example: "example",
                    field: "field",
                },
            ],
            is_valid: true,
        });
    });

    test("validate (2)", async () => {
        const server = mockServerPool.createServer();
        const client = new PinnacleClient({ apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = { campaignId: "campaignId" };
        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .post("/campaigns/dlc/validate")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(400)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.campaigns.dlc.validate({
                campaignId: "campaignId",
            });
        }).rejects.toThrow(Pinnacle.BadRequestError);
    });

    test("validate (3)", async () => {
        const server = mockServerPool.createServer();
        const client = new PinnacleClient({ apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = { campaignId: "campaignId" };
        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .post("/campaigns/dlc/validate")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.campaigns.dlc.validate({
                campaignId: "campaignId",
            });
        }).rejects.toThrow(Pinnacle.UnauthorizedError);
    });

    test("validate (4)", async () => {
        const server = mockServerPool.createServer();
        const client = new PinnacleClient({ apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = { campaignId: "campaignId" };
        const rawResponseBody = { error: "error" };
        server
            .mockEndpoint()
            .post("/campaigns/dlc/validate")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.campaigns.dlc.validate({
                campaignId: "campaignId",
            });
        }).rejects.toThrow(Pinnacle.InternalServerError);
    });
});
